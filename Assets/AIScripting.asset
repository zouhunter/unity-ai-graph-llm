%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &-8779446517459818715
MonoBehaviour:
  m_ObjectHideFlags: 1
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 1
  disable: 0
--- !u!114 &-8669836159119811652
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 161163f6654bcdf469dc5f96b9cbed20, type: 3}
  m_Name: AIScripting.DingTalkNode
  m_EditorClassIdentifier: 
  _title: DingTalkNode
  talk_url:
    _key: talk_url
    _default: https://oapi.dingtalk.com/robot/send?access_token=0d5881be6ebc0ce565481930584fd579ae7ccfa076ab6cddd05432f2bb615382
    _autoCreate: 1
  talk_text:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &-8501704478256186010
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-8362365802990645104
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &-8334256385118027925
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-8245040277723703751
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: dfc3021d10c22a941a8ae63f84de5a2c, type: 3}
  m_Name: AIScripting.FileTextNode
  m_EditorClassIdentifier: 
  _title: "\u6587\u4EF6\u52A0\u8F7D"
  file_path:
    _key: file_path
    _default: Assets/AIScriptGraph/Runtime/Nodes/OllamaNode.cs
    _autoCreate: 1
  out_put:
    _key: output_text
    _default: "using System;\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing
      System.Text;\r\nusing System.Xml;\r\n\r\nusing UFrame.NodeGraph;\r\nusing UFrame.NodeGraph.DataModel;\r\n\r\nusing
      UnityEditor.PackageManager.Requests;\r\n\r\nusing UnityEngine;\r\nusing UnityEngine.Networking;\r\nusing
      UnityEngine.U2D;\r\n\r\nnamespace AIScripting\r\n{\r\n    [CustomNode(\"Ollama\",
      0, \"AIScripting\")]\r\n    public class OllamaNode : ScriptNodeBase\r\n   
      {\r\n        /// <summary>\r\n        /// AI\uFFFD\u8DA8\r\n        /// </summary>\r\n       
      [Multiline(3)]\r\n        public string m_SystemSetting = string.Empty;\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\u0123\uFFFD\uFFFD,\u0123\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        public string m_GptModel = \"llama3\";\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0131\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        [Header(\"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0131\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\")]\r\n       
      [SerializeField] protected int m_HistoryKeepCount = 15;\r\n\r\n        [Header(\"\uFFFD\uFFFD\u03E2\uFFFD\uFFFD\uFFFD\uFFFDkey\")]\r\n       
      [SerializeField] protected string eventReceiveKey = \"ollama_receive_message\";\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\u053B\uFFFD\r\n       
      /// </summary>\r\n        [NonSerialized] public List<SendData> m_DataList
      = new List<SendData>();\r\n\r\n        public Ref<string> input = new Ref<string>(\"input_text\");\r\n       
      public Ref<string> output = new Ref<string>(\"output_text\");\r\n        public
      Ref<string> url = new Ref<string>(\"ollama_url\", \"http://localhost:8081/api/chat\");\r\n\r\n       
      protected override int InCount => int.MaxValue;\r\n\r\n        protected override
      int OutCount => int.MaxValue;\r\n\r\n        public override int Style => 1;\r\n       
      private LitCoroutine _litCoroutine;\r\n\r\n        protected override void
      OnProcess()\r\n        {\r\n            if(m_DataList.Count == 0)\r\n           
      {\r\n                m_DataList.Add(new SendData(\"system\", m_SystemSetting));\r\n           
      }\r\n\r\n            PostMsg(input, (result) =>\r\n            {\r\n               
      output.Value = result;\r\n                DoFinish();\r\n            });\r\n       
      }\r\n\r\n        /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u03E2\r\n       
      /// </summary>\r\n        public virtual void PostMsg(string _msg, Action<string>
      _callback)\r\n        {\r\n            //\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n           
      CheckHistory();\r\n\r\n            //\uFFFD\uFFFD\uFFFD\u6DE2\uFFFD\u0375\uFFFD\uFFFD\uFFFD\u03E2\uFFFD\u0431\uFFFD\r\n           
      m_DataList.Add(new SendData(\"user\", _msg));\r\n            _litCoroutine
      = Owner.StartCoroutine(Request(_callback));\r\n        }\r\n\r\n        ///
      <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\xF1\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u05B9\u032B\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        public virtual void CheckHistory()\r\n        {\r\n           
      if (m_DataList.Count > m_HistoryKeepCount)\r\n            {\r\n               
      m_DataList.RemoveAt(0);\r\n            }\r\n        }\r\n\r\n\r\n        [Serializable]\r\n       
      public class SendData\r\n        {\r\n            [SerializeField] public string
      role;\r\n            [SerializeField] public string content;\r\n           
      public SendData() { }\r\n            public SendData(string _role, string _content)\r\n           
      {\r\n                role = _role;\r\n                content = _content;\r\n           
      }\r\n        }\r\n\r\n        //{\"model\":\"llama3\",\"created_at\":\"2024-05-08T09:27:16.4077711Z\",\"message\":{\"role\":\"assistant\",\"content\":\"
      harmony\"},\"done\":false}\r\n        [Serializable]\r\n        public class
      ReceiveData\r\n        {\r\n            public string model;\r\n           
      public string created_at;\r\n            public Message message;\r\n           
      public bool done;\r\n        }\r\n\r\n        public class DownloadHandlerMessageQueue
      : DownloadHandlerScript\r\n        {\r\n            public StringBuilder allText
      = new StringBuilder();\r\n            private Action<ReceiveData> _onReceive;\r\n           
      private StringBuilder _textInProcess = new StringBuilder();\r\n\r\n           
      protected override void ReceiveContentLengthHeader(ulong contentLength)\r\n           
      {\r\n                base.ReceiveContentLengthHeader(contentLength);\r\n               
      Debug.Log(\"ReceiveContentLengthHeader:\" +contentLength);\r\n            }\r\n\r\n           
      protected override bool ReceiveData(byte[] data, int dataLength)\r\n           
      {\r\n                var text = Encoding.UTF8.GetString(data, 0, dataLength);\r\n               
      if(text.Contains('\\n'))\r\n                {\r\n                    var lines
      = text.Trim().Split('\\n');\r\n                    foreach (var line in lines)\r\n                   
      {\r\n                        if (!string.IsNullOrEmpty(line))\r\n                       
      {\r\n                            OnReceiveOne(line.Trim());\r\n                       
      }\r\n                    }\r\n                }\r\n                else\r\n               
      {\r\n                    OnReceiveOne(text.Trim());\r\n                }\r\n               
      //_textInProcess.Append(Encoding.UTF8.GetString(data, 0, dataLength));\r\n               
      //Debug.Log(\"ReceiveData:\" + _textInProcess);\r\n                //int index
      = -1;\r\n                //var startIndex = -1;\r\n                //var endIndex
      = -1;\r\n                //var paired = 0;\r\n                //while (++index
      < _textInProcess.Length)\r\n                //{\r\n                //    var
      charItem = _textInProcess[index];\r\n                //    if (charItem ==
      '{')\r\n                //    {\r\n                //        if(startIndex
      < 0)\r\n                //            startIndex = index;\r\n               
      //        paired++;\r\n                //    }\r\n                //    if
      (charItem == '}')\r\n                //    {\r\n                //        paired--;\r\n               
      //    }\r\n                //    if (paired == 0 && startIndex >= 0)\r\n               
      //    {\r\n                //        endIndex = index;\r\n                //       
      var oneMessage = _textInProcess.ToString(startIndex, endIndex - startIndex
      + 1);\r\n                //        OnReceiveOne(oneMessage);\r\n               
      //        startIndex = -1;\r\n                //    }\r\n                //}\r\n               
      //if (endIndex > 0 && endIndex < _textInProcess.Length - 1)\r\n               
      //{\r\n                //    _textInProcess.Remove(0, endIndex+1);\r\n               
      //}\r\n                return base.ReceiveData(data, dataLength);\r\n           
      }\r\n\r\n            private void OnReceiveOne(string text)\r\n           
      {\r\n                Debug.Log(\"OnReceiveOne:\" + text);\r\n               
      var receiveData = JsonUtility.FromJson<ReceiveData>(text);\r\n               
      allText.Append(receiveData.message.content);\r\n                _onReceive?.Invoke(receiveData);\r\n           
      }\r\n\r\n            internal void RegistReceive(Action<ReceiveData> onReceive)\r\n           
      {\r\n                this._onReceive = onReceive;\r\n            }\r\n       
      }\r\n\r\n        /// <summary>\r\n        /// \uFFFD\u0575\uFFFD\uFFFD\u0638\uFFFD\r\n       
      /// </summary>\r\n        /// <param name=\"data\"></param>\r\n        private
      void OnReceive(ReceiveData data)\r\n        {\r\n            //Debug.Log(data.message.content);\r\n           
      Owner.SendEvent(eventReceiveKey, data);\r\n        }\r\n\r\n        /// <summary>\r\n       
      /// \uFFFD\uFFFD\uFFFD\xFD\u04FF\uFFFD\r\n        /// </summary>\r\n       
      /// <param name=\"_postWord\"></param>\r\n        /// <param name=\"_callback\"></param>\r\n       
      /// <returns></returns>\r\n        public IEnumerator Request(System.Action<string>
      _callback)\r\n        {\r\n            long startTime = System.DateTime.Now.Ticks;\r\n           
      Debug.Log(System.DateTime.Now.Ticks + \",request:\" + url);\r\n           
      UnityWebRequest request = new UnityWebRequest(url, \"POST\");\r\n           
      {\r\n                PostData _postData = new PostData\r\n                {\r\n                   
      model = m_GptModel.ToString(),\r\n                    messages = m_DataList,\r\n                   
      stream = true\r\n                };\r\n\r\n                string _jsonText
      = JsonUtility.ToJson(_postData);\r\n                byte[] data = System.Text.Encoding.UTF8.GetBytes(_jsonText);\r\n               
      request.uploadHandler = new UploadHandlerRaw(data);\r\n                var
      downloadHandler = new DownloadHandlerMessageQueue();\r\n                downloadHandler.RegistReceive(OnReceive);\r\n               
      request.downloadHandler = downloadHandler;\r\n                request.SetRequestHeader(\"Content-Type\",
      \"application/json\");\r\n                //request.SetRequestHeader(\"Authorization\",
      string.Format(\"Bearer {0}\", api_key));\r\n\r\n                var operation
      = request.SendWebRequest();\r\n\r\n                while (!operation.isDone)\r\n               
      {\r\n                    yield return null;\r\n                    _asyncOp.SetProgress(operation.progress);\r\n               
      }\r\n\r\n                if (request.responseCode == 200)\r\n               
      {\r\n                    string _msgBack = downloadHandler.allText.ToString();\r\n                   
      if (!string.IsNullOrEmpty(_msgBack))\r\n                    {\r\n                       
      //\uFFFD\uFFFD\u04FC\uFFFD\xBC\r\n                        m_DataList.Add(new
      SendData(\"assistant\", _msgBack));\r\n                        _callback(_msgBack);\r\n                   
      }\r\n                    else\r\n                    {\r\n                       
      _callback(null);\r\n                    }\r\n                }\r\n               
      else\r\n                {\r\n                    _callback?.Invoke(null);\r\n                   
      Debug.LogError(request.downloadHandler.error);\r\n                }\r\n               
      request.Dispose();\r\n                Debug.Log(System.DateTime.Now.Ticks +
      \",Ollama\uFFFD\uFFFD\u02B1\uFFFD\uFFFD\" + (System.DateTime.Now.Ticks - startTime)
      / 10000000);\r\n            }\r\n        }\r\n\r\n        private void OnRecevieRequest()\r\n       
      {\r\n\r\n        }\r\n\r\n        #region \uFFFD\uFFFD\uFFFD\u0776\uFFFD\uFFFD\uFFFD\r\n\r\n       
      [Serializable]\r\n        public class PostData\r\n        {\r\n           
      public string model;\r\n            public List<SendData> messages;\r\n           
      public bool stream;//\uFFFD\uFFFD\u02BD\r\n        }\r\n\r\n        [Serializable]\r\n       
      public class Message\r\n        {\r\n            public string role;\r\n           
      public string content;\r\n        }\r\n\r\n        #endregion\r\n    }\r\n}"
    _autoCreate: 1
--- !u!114 &-8065239265447938986
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ba99efd1667934f418310eec5ee307f6, type: 3}
  m_Name: DebugNode
  m_EditorClassIdentifier: 
  _title: DebugNode
  info:
    _key: output_text
    _default: 
    _autoCreate: 0
  format: 
  logType: 3
--- !u!114 &-7897704624028060786
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &-7625763598278455667
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: PortConnection
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-7169455427555424457
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-6979795315218520922
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 94818a1002223514999649e4e3e3496d, type: 3}
  m_Name: AIScripting.OllamaNode
  m_EditorClassIdentifier: 
  _title: "\u5206\u6790\u4EE3\u7801"
  m_SystemSetting: "\u4F60\u662F\u4E00\u540D\u4E2D\u56FD\u67B6\u6784\u5E08\uFF0C\u7CBE\u901Ac#\u4EE3\u7801\uFF0C\u56DE\u7B54\u90FD\u7528\u4E2D\u6587"
  m_GptModel: llama3
  m_HistoryKeepCount: 15
  eventReceiveKey: ollama_receive_message
  input:
    _key: output_text
    _default: 
    _autoCreate: 0
  output:
    _key: output_text
    _default: "```\nusing System;\n\npublic class Test {\n    public static void
      Main(string[] args) {\n        int x = 5;\n        int y = 10;\n        int
      z = 15;\n        Console.WriteLine(\"x is \" + x);\n        Console.WriteLine(\"y
      is \" + y);\n        Console.WriteLine(\"z is \" + z);\n    }\n}\n```\n\u8FD9\u6BB5\u4EE3\u7801\u7684\u95EE\u9898\u662F\u4EC0\u4E48\uFF1F\n\n\u7B54\u6848\uFF1A\u8FD9\u6BB5\u4EE3\u7801\u7684\u95EE\u9898\u5728\u4E8E\u5B83\u6CA1\u6709\u7F16\u8BD1\u3002\u8FD9\u662F\u56E0\u4E3A`using`\u8BED\u53E5\u5FC5\u987B\u5728\u6587\u4EF6\u7684\u6700\u4E0A\u65B9\uFF0C\u800C\u4E0D\u80FD\u5728\u7C7B\u6216\u65B9\u6CD5\u4E4B\u95F4\u51FA\u73B0\u3002\u5982\u679C\u4F60\u60F3\u4F7F\u7528`Console.WriteLine`\u65B9\u6CD5\uFF0C\u4F60\u9700\u8981\u5C06\u5176\u6DFB\u52A0\u5230`System`\u547D\u540D\u7A7A\u95F4\u4E2D\u3002"
    _autoCreate: 0
  url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 0
--- !u!114 &-6946964891292562193
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &-6688419507718699940
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &-6655392806315121781
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ca8199c75b7adef4ba922d362aeff504, type: 3}
  m_Name: AIScripting.DirFilesTextNode
  m_EditorClassIdentifier: 
  _title: "\u8BFB\u53D6Main"
  beforeText: "# \u4E0B\u9762\u662F\u4E00\u7EC4\u4EE3\u7801\u6587\u4EF6\uFF0C\u8BF7\u5206\u6790\u4E00\u4E0B\u4EE3\u7801\u67B6\u6784\uFF0C\u5E76\u9010\u4E2A\u6587\u4EF6\u68C0\u67E5\u53EF\u80FD\u5B58\u5728\u7684\u95EE\u9898\uFF0C\u7528\u4E2D\u6587\u56DE\u7B54:"
  splitText: "## \u7B2C{0}\u6BB5\u6587\u4EF6:"
  fileExt: '*.cs'
  dir_path:
    _key: 
    _default: C:\WareHouse\mate-unity\mateurp\Assets\Main
    _autoCreate: 1
  recursive: 1
  out_put:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &-6473362435819152484
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 94818a1002223514999649e4e3e3496d, type: 3}
  m_Name: AIScripting.OllamaNode
  m_EditorClassIdentifier: 
  _title: OllamaNode
  m_SystemSetting: "\u4E0B\u9762\u662F\u4E00\u4E2Ac#\u4EE3\u7801\uFF0C\u5206\u6790\u4E00\u4E0B\u5176\u4E2D\u7684\u95EE\u9898\uFF0C\u5E76\u4E14\u56DE\u7B54\u4E2D\u6587"
  m_GptModel: llama3
  m_HistoryKeepCount: 15
  eventReceiveKey: ollama_receive_message
  input:
    _key: output_text
    _default: 
    _autoCreate: 0
  output:
    _key: output_text
    _default: "```\nusing System;\n\npublic class Test {\n    public static void
      Main(string[] args) {\n        int x = 5;\n        int y = 10;\n        int
      z = 15;\n        Console.WriteLine(\"x is \" + x);\n        Console.WriteLine(\"y
      is \" + y);\n        Console.WriteLine(\"z is \" + z);\n    }\n}\n```\n\u8FD9\u6BB5\u4EE3\u7801\u7684\u95EE\u9898\u662F\u4EC0\u4E48\uFF1F\n\n\u7B54\u6848\uFF1A\u8FD9\u6BB5\u4EE3\u7801\u7684\u95EE\u9898\u5728\u4E8E\u5B83\u6CA1\u6709\u7F16\u8BD1\u3002\u8FD9\u662F\u56E0\u4E3A`using`\u8BED\u53E5\u5FC5\u987B\u5728\u6587\u4EF6\u7684\u6700\u4E0A\u65B9\uFF0C\u800C\u4E0D\u80FD\u5728\u7C7B\u6216\u65B9\u6CD5\u4E4B\u95F4\u51FA\u73B0\u3002\u5982\u679C\u4F60\u60F3\u4F7F\u7528`Console.WriteLine`\u65B9\u6CD5\uFF0C\u4F60\u9700\u8981\u5C06\u5176\u6DFB\u52A0\u5230`System`\u547D\u540D\u7A7A\u95F4\u4E2D\u3002"
    _autoCreate: 0
  url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 0
--- !u!114 &-4663439079635202584
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-3837637956981627654
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-3738287060312549313
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 161163f6654bcdf469dc5f96b9cbed20, type: 3}
  m_Name: AIScripting.DingTalkNode
  m_EditorClassIdentifier: 
  _title: DingTalkNode
  talk_url:
    _key: talk_url
    _default: https://oapi.dingtalk.com/robot/send?access_token=0d5881be6ebc0ce565481930584fd579ae7ccfa076ab6cddd05432f2bb615382
    _autoCreate: 1
  talk_text:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &-3526895031255205040
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ba99efd1667934f418310eec5ee307f6, type: 3}
  m_Name: AIScripting.DebugNode
  m_EditorClassIdentifier: 
  _title: DebugNode
  info:
    _key: output_text
    _default: 
    _autoCreate: 1
  format: "\u603B\u7ED3:{0}"
  logType: 2
--- !u!114 &-3216071174005015055
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-2151416684536408255
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 94818a1002223514999649e4e3e3496d, type: 3}
  m_Name: AIScripting.OllamaNode
  m_EditorClassIdentifier: 
  _title: OllamaNode
  m_SystemSetting: "\u8BF7\u5BF9\u4E0A\u9762\u6240\u6709\u7684\u5206\u6790\uFF0C\u505A\u4E00\u4E2A\u603B\u7ED3\uFF0C\u5E76\u4E14\u56DE\u7B54\u4E2D\u6587"
  m_GptModel: llama3
  m_HistoryKeepCount: 15
  eventReceiveKey: ollama_receive_message
  input:
    _key: output_text
    _default: 
    _autoCreate: 1
  output:
    _key: output_text
    _default: 
    _autoCreate: 1
  url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 1
--- !u!114 &-2129204001852777704
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-1829278929440304616
MonoBehaviour:
  m_ObjectHideFlags: 1
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ba99efd1667934f418310eec5ee307f6, type: 3}
  m_Name: AIScripting.DebugNode
  m_EditorClassIdentifier: 
  _title: DebugNode
  info:
    _key: output_text
    _default: 
    _autoCreate: 1
  format: 
  logType: 0
--- !u!114 &-926521378249774635
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 94818a1002223514999649e4e3e3496d, type: 3}
  m_Name: OllamaNode
  m_EditorClassIdentifier: 
  _title: OllamaNode
  m_SystemSetting: "\u4F60\u662F\u4E00\u4E2A\u7A0B\u5E8F\u5458\uFF0C\u5E76\u4E14\u56DE\u7B54\u4E2D\u6587"
  m_GptModel: codellama
  m_HistoryKeepCount: 15
  eventReceiveKey: ollama_receive_message
  input:
    _key: input_text
    _default: 
    _autoCreate: 0
  output:
    _key: output_text
    _default: 
    _autoCreate: 1
  url:
    _key: ollama_url
    _default: http://192.168.1.10:7001/api/chat
    _autoCreate: 0
--- !u!114 &-903681281286265581
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 9bf3ca2d539b78e48b867040296c6f38, type: 3}
  m_Name: VariableInitNode
  m_EditorClassIdentifier: 
  <Owner>k__BackingField: {fileID: 11400000}
  <status>k__BackingField: 0
  refs: []
--- !u!114 &-581330707180975168
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ca8199c75b7adef4ba922d362aeff504, type: 3}
  m_Name: AIScripting.DirFilesTextNode
  m_EditorClassIdentifier: 
  _title: "\u8BFB\u53D6PlotConfig"
  beforeText: "# \u4E0B\u9762\u662F\u4E00\u7EC4\u4EE3\u7801\u6587\u4EF6\uFF0C\u8BF7\u5206\u6790\u4E00\u4E0B\u4EE3\u7801\u67B6\u6784\uFF0C\u4EE5\u53CA\u5B58\u5728\u7684\u95EE\u9898\uFF0C\u7528\u4E2D\u6587\u56DE\u7B54:"
  splitText: "## \u7B2C{0}\u6BB5\u6587\u4EF6:"
  fileExt: '*.cs'
  dir_path:
    _key: 
    _default: C:\WareHouse\mate-unity\mateurp\Assets\Scripts\PlotConfig
    _autoCreate: 1
  recursive: 1
  out_put:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &-245738143354292365
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &-109286567883859478
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 94818a1002223514999649e4e3e3496d, type: 3}
  m_Name: AIScripting.OllamaNode
  m_EditorClassIdentifier: 
  _title: OllamaNode
  m_SystemSetting: "\u4E0B\u9762\u662F\u4E00\u4E2Ac#\u4EE3\u7801\uFF0C\u5206\u6790\u4E00\u4E0B\u5176\u4E2D\u7684\u95EE\u9898\uFF0C\u5E76\u4E14\u56DE\u7B54\u4E2D\u6587"
  m_GptModel: llama3
  m_HistoryKeepCount: 15
  eventReceiveKey: ollama_receive_message
  input:
    _key: output_text
    _default: 
    _autoCreate: 0
  output:
    _key: output_text
    _default: 'I''d be happy to help you with that. Please paste the C# code, and
      I''ll do my best to identify any potential issues or areas for improvement.


      Also,
      please let me know what specific aspects of the code you would like me to focus
      on (e.g. syntax errors, performance optimization, best practices, etc.)?'
    _autoCreate: 0
  url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 0
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 3bcd857e09f27b14ab7a872fa050aa49, type: 3}
  m_Name: AIScripting
  m_EditorClassIdentifier: 
  m_allNodes:
  - m_name: Debug
    m_id: e7fd013b-885a-4c7a-9d80-a2d234039591
    m_x: 1692
    m_y: 1200
    m_node: {fileID: -8065239265447938986}
    m_inputPoints:
    - id: 54af0a2d-455c-4dac-a5b3-ddaf76e540e2
      label: i
      parentId: e7fd013b-885a-4c7a-9d80-a2d234039591
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 9206a6ec-0e52-400b-9b9f-d4a637905a63
      label: o
      parentId: e7fd013b-885a-4c7a-9d80-a2d234039591
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Ollama
    m_id: 35021e67-d15b-4b9f-8945-a6dd7336e905
    m_x: 1524
    m_y: 1200
    m_node: {fileID: -926521378249774635}
    m_inputPoints:
    - id: 77491b31-cb96-435f-8f1d-51f355abb1ab
      label: i
      parentId: 35021e67-d15b-4b9f-8945-a6dd7336e905
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: a44910e9-296a-4b11-ab18-5075a7dc0bd8
      label: o
      parentId: 35021e67-d15b-4b9f-8945-a6dd7336e905
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Begin
    m_id: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_x: 1296
    m_y: 1284
    m_node: {fileID: 5985184011527020748}
    m_inputPoints:
    - id: cf645fe2-2035-4e7d-9dd4-6247670f9400
      label: i
      parentId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: d618190e-e345-44ce-ac62-ba243c1772b5
      label: o
      parentId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: VariableSetNode
    m_id: 254c0c41-aa1b-4c9a-9663-63d63787d0c1
    m_x: 1152
    m_y: 1104
    m_node: {fileID: 7716110878025005022}
    m_inputPoints:
    - id: 8f9c7b75-4041-40fa-9cd2-958cc86159b4
      label: i
      parentId: 254c0c41-aa1b-4c9a-9663-63d63787d0c1
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: c427b6e8-e6f2-44df-b701-c470e6f91089
      label: o
      parentId: 254c0c41-aa1b-4c9a-9663-63d63787d0c1
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 138.41
        y: 22.029999
        width: 10
        height: 23
      max: 1
      type: ->
  - m_name: Ollama
    m_id: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_x: 1716
    m_y: 1032
    m_node: {fileID: -6473362435819152484}
    m_inputPoints:
    - id: d0dad1bd-5d4b-4172-83c3-098fdee2a57f
      label: i
      parentId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 1673624c-0468-4f38-8541-fc2b3a79100e
      label: o
      parentId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: FileText
    m_id: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
    m_x: 1428
    m_y: 1032
    m_node: {fileID: -8245040277723703751}
    m_inputPoints:
    - id: 1ff28881-e71c-480d-a424-695027f61edd
      label: i
      parentId: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 1c3ccc29-6a5c-4927-ad19-66abfde9d0d5
      label: o
      parentId: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Ollama
    m_id: 344bf3a9-c610-44b2-b1d7-c8829b47110f
    m_x: 1884
    m_y: 1104
    m_node: {fileID: -2151416684536408255}
    m_inputPoints:
    - id: ffd3d4a5-3947-4ad5-a754-b48941d1f847
      label: i
      parentId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 5555e15e-70a0-4342-ae3a-df43c24bab2e
      label: o
      parentId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Debug
    m_id: 9ec7f05a-459b-4dfe-8f4f-3cdb401b631a
    m_x: 1776
    m_y: 1416
    m_node: {fileID: 4335922187416868783}
    m_inputPoints:
    - id: a4021d1f-a69e-4ffe-8ae0-84de0642d0a1
      label: i
      parentId: 9ec7f05a-459b-4dfe-8f4f-3cdb401b631a
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 6d8023e7-ec13-4a37-9069-12fa0055b536
      label: o
      parentId: 9ec7f05a-459b-4dfe-8f4f-3cdb401b631a
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: FileText
    m_id: 609a2884-5cde-47e5-bbf8-054335586aa1
    m_x: 1512
    m_y: 1116
    m_node: {fileID: 517837402922214444}
    m_inputPoints:
    - id: be9e5bdf-7e8a-4d2f-a6cb-999953872ae5
      label: i
      parentId: 609a2884-5cde-47e5-bbf8-054335586aa1
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 225d3b9f-2065-400f-836f-e1ddb519f79f
      label: o
      parentId: 609a2884-5cde-47e5-bbf8-054335586aa1
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Ollama
    m_id: 4546636f-a125-408d-951b-2b689fb6c696
    m_x: 1680
    m_y: 1116
    m_node: {fileID: -109286567883859478}
    m_inputPoints:
    - id: fe61765f-1c33-4cd7-8b64-94cd0aa486ad
      label: i
      parentId: 4546636f-a125-408d-951b-2b689fb6c696
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: e844a70f-f587-4484-a0d2-1f2d51a87da4
      label: o
      parentId: 4546636f-a125-408d-951b-2b689fb6c696
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: DingTalk
    m_id: e10070b5-05ba-44b5-969c-ecc9ac240fb9
    m_x: 1704
    m_y: 1308
    m_node: {fileID: -8669836159119811652}
    m_inputPoints:
    - id: 7b13baec-d2be-4e3f-9769-bc0510e3efd4
      label: i
      parentId: e10070b5-05ba-44b5-969c-ecc9ac240fb9
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: c342c260-beac-4d3d-932d-042d30941f76
      label: o
      parentId: e10070b5-05ba-44b5-969c-ecc9ac240fb9
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Debug
    m_id: 333bbffc-7d70-4de4-a777-936605bf868a
    m_x: 2964
    m_y: 1260
    m_node: {fileID: -3526895031255205040}
    m_inputPoints:
    - id: 0c762a3e-a7f7-443d-b7ed-2303d4b99a4a
      label: i
      parentId: 333bbffc-7d70-4de4-a777-936605bf868a
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 2a487426-aa41-4310-847b-b286dcaba95b
      label: o
      parentId: 333bbffc-7d70-4de4-a777-936605bf868a
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: DingTalk
    m_id: 93d7cdde-b2e4-4a4f-990c-42a1ca7f9bcb
    m_x: 2460
    m_y: 1296
    m_node: {fileID: 3636328702705836315}
    m_inputPoints:
    - id: 3561853a-1fc3-4df4-9fbe-83bcda27756b
      label: i
      parentId: 93d7cdde-b2e4-4a4f-990c-42a1ca7f9bcb
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 87e8bc10-d457-4f0c-81cb-0486e37503ae
      label: o
      parentId: 93d7cdde-b2e4-4a4f-990c-42a1ca7f9bcb
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Debug
    m_id: cb2e1421-8f6b-4010-89d1-bfd0c6d401dd
    m_x: 1596
    m_y: 984
    m_node: {fileID: -1829278929440304616}
    m_inputPoints:
    - id: e68e35e8-854c-4a8e-af3a-e58a204d4dbf
      label: i
      parentId: cb2e1421-8f6b-4010-89d1-bfd0c6d401dd
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 91d2a17a-7a01-45fa-acbe-ba2bd1e7b0ac
      label: o
      parentId: cb2e1421-8f6b-4010-89d1-bfd0c6d401dd
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: DirFilesText
    m_id: 49bd4840-3eac-4e65-9b86-17836c900868
    m_x: 1476
    m_y: 1380
    m_node: {fileID: -581330707180975168}
    m_inputPoints:
    - id: 24986637-e11e-4255-9c55-9507ab783d29
      label: i
      parentId: 49bd4840-3eac-4e65-9b86-17836c900868
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 0801fb85-29d9-4d73-8d4c-323cb71e998a
      label: o
      parentId: 49bd4840-3eac-4e65-9b86-17836c900868
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Ollama
    m_id: 7e116382-1078-4742-9cdd-04247dcb4e91
    m_x: 1632
    m_y: 1476
    m_node: {fileID: -6979795315218520922}
    m_inputPoints:
    - id: 59014767-530d-42a4-99f6-bf93641db02e
      label: i
      parentId: 7e116382-1078-4742-9cdd-04247dcb4e91
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: a6e6882b-b9f0-4680-a279-b9933500ec31
      label: o
      parentId: 7e116382-1078-4742-9cdd-04247dcb4e91
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: DingTalk
    m_id: 04172ca2-33a9-42a6-9924-0b72ed0c16ce
    m_x: 2328
    m_y: 1788
    m_node: {fileID: -3738287060312549313}
    m_inputPoints:
    - id: 80079707-9338-4ad8-aea9-196a1046d331
      label: i
      parentId: 04172ca2-33a9-42a6-9924-0b72ed0c16ce
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: d2952b20-c3c2-4e3d-b32d-f968644d30b0
      label: o
      parentId: 04172ca2-33a9-42a6-9924-0b72ed0c16ce
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: DirFilesText
    m_id: a1278f7b-9ed7-48db-a5ba-4fb5314d556a
    m_x: 1464
    m_y: 1704
    m_node: {fileID: -6655392806315121781}
    m_inputPoints:
    - id: c480b5c7-75a9-49a7-a1db-8e222520b917
      label: i
      parentId: a1278f7b-9ed7-48db-a5ba-4fb5314d556a
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: e7e1d060-4bcc-45f8-b3ed-14f7e776ccbd
      label: o
      parentId: a1278f7b-9ed7-48db-a5ba-4fb5314d556a
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: OllamaRequest
    m_id: 20e89c5c-29fc-405e-8c6a-3242789ef6ec
    m_x: 1188
    m_y: 1860
    m_node: {fileID: 2331903906736571686}
    m_inputPoints:
    - id: 635740a3-7d69-4d33-85bc-eaf1039364d6
      label: i
      parentId: 20e89c5c-29fc-405e-8c6a-3242789ef6ec
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 56c94a05-d4d8-43e3-b531-43df7cb4a168
      label: o
      parentId: 20e89c5c-29fc-405e-8c6a-3242789ef6ec
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 128.3
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: Debug
    m_id: bffd9d89-d05c-48cb-a0e7-6c6da62b72e6
    m_x: 2436
    m_y: 1584
    m_node: {fileID: 8946787494674032236}
    m_inputPoints:
    - id: 8838d704-b5cc-4e71-88ff-f07bf9fc55bb
      label: i
      parentId: bffd9d89-d05c-48cb-a0e7-6c6da62b72e6
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: c070f5c4-78a4-4dea-86be-b808516a0b45
      label: o
      parentId: bffd9d89-d05c-48cb-a0e7-6c6da62b72e6
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 111
        y: 22.029999
        width: 10
        height: 23
      max: 2147483647
      type: ->
  - m_name: VariableSetNode
    m_id: bc0462b1-c39f-4d84-a8d5-c4f35adfd012
    m_x: 2316
    m_y: 1452
    m_node: {fileID: 5360428487860874658}
    m_inputPoints:
    - id: b3129872-c640-413c-a8d0-2a2b7d24be8b
      label: i
      parentId: bc0462b1-c39f-4d84-a8d5-c4f35adfd012
      isInput: 1
      buttonRect:
        serializedVersion: 2
        x: 0
        y: 19.029999
        width: 21
        height: 29
      max: 2147483647
      type: ->
    m_outputPoints:
    - id: 88eb3133-350f-485d-8828-cf1a230322db
      label: o
      parentId: bc0462b1-c39f-4d84-a8d5-c4f35adfd012
      isInput: 0
      buttonRect:
        serializedVersion: 2
        x: 138.41
        y: 22.029999
        width: 10
        height: 23
      max: 1
      type: ->
  m_allConnections:
  - m_id: c7160a39-1b98-492b-8db7-8407a608f244
    m_fromNodeId: 35021e67-d15b-4b9f-8945-a6dd7336e905
    m_fromNodeConnectionPointId: a44910e9-296a-4b11-ab18-5075a7dc0bd8
    m_toNodeId: e7fd013b-885a-4c7a-9d80-a2d234039591
    m_toNodeConnectionPoiontId: 54af0a2d-455c-4dac-a5b3-ddaf76e540e2
    m_type: ->
    m_connection: {fileID: -7625763598278455667}
  - m_id: 5b71af76-5c66-4d38-83a0-9336a22487c0
    m_fromNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_fromNodeConnectionPointId: d618190e-e345-44ce-ac62-ba243c1772b5
    m_toNodeId: 35021e67-d15b-4b9f-8945-a6dd7336e905
    m_toNodeConnectionPoiontId: 77491b31-cb96-435f-8f1d-51f355abb1ab
    m_type: ->
    m_connection: {fileID: -8362365802990645104}
  - m_id: d49cc2e1-e0f3-45ab-9f36-8aa372ba7e6d
    m_fromNodeId: 254c0c41-aa1b-4c9a-9663-63d63787d0c1
    m_fromNodeConnectionPointId: c427b6e8-e6f2-44df-b701-c470e6f91089
    m_toNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_toNodeConnectionPoiontId: cf645fe2-2035-4e7d-9dd4-6247670f9400
    m_type: ->
    m_connection: {fileID: -2129204001852777704}
  - m_id: 252f3483-735c-4da1-aa75-c518a654de82
    m_fromNodeId: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
    m_fromNodeConnectionPointId: 1c3ccc29-6a5c-4927-ad19-66abfde9d0d5
    m_toNodeId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_toNodeConnectionPoiontId: d0dad1bd-5d4b-4172-83c3-098fdee2a57f
    m_type: ->
    m_connection: {fileID: -245738143354292365}
  - m_id: ed0517e3-1f2d-47b4-be6c-ed55c2ea6d45
    m_fromNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_fromNodeConnectionPointId: d618190e-e345-44ce-ac62-ba243c1772b5
    m_toNodeId: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
    m_toNodeConnectionPoiontId: 1ff28881-e71c-480d-a424-695027f61edd
    m_type: ->
    m_connection: {fileID: 5497459493835124635}
  - m_id: 2095e4eb-b8f8-43ac-adb3-d52148a09cf7
    m_fromNodeId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_fromNodeConnectionPointId: 1673624c-0468-4f38-8541-fc2b3a79100e
    m_toNodeId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
    m_toNodeConnectionPoiontId: ffd3d4a5-3947-4ad5-a754-b48941d1f847
    m_type: ->
    m_connection: {fileID: 3949558517235700878}
  - m_id: 4868fe3b-61c4-4d12-9323-193a267fbab4
    m_fromNodeId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_fromNodeConnectionPointId: 1673624c-0468-4f38-8541-fc2b3a79100e
    m_toNodeId: 9ec7f05a-459b-4dfe-8f4f-3cdb401b631a
    m_toNodeConnectionPoiontId: a4021d1f-a69e-4ffe-8ae0-84de0642d0a1
    m_type: ->
    m_connection: {fileID: -6946964891292562193}
  - m_id: 8cf380f0-0b66-4e6c-bb1c-0f8ddbbc9f52
    m_fromNodeId: 609a2884-5cde-47e5-bbf8-054335586aa1
    m_fromNodeConnectionPointId: 225d3b9f-2065-400f-836f-e1ddb519f79f
    m_toNodeId: 4546636f-a125-408d-951b-2b689fb6c696
    m_toNodeConnectionPoiontId: fe61765f-1c33-4cd7-8b64-94cd0aa486ad
    m_type: ->
    m_connection: {fileID: 8133720260627461075}
  - m_id: 3c7bae68-4e4d-4bcc-95da-b51a97a230e6
    m_fromNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_fromNodeConnectionPointId: d618190e-e345-44ce-ac62-ba243c1772b5
    m_toNodeId: 609a2884-5cde-47e5-bbf8-054335586aa1
    m_toNodeConnectionPoiontId: be9e5bdf-7e8a-4d2f-a6cb-999953872ae5
    m_type: ->
    m_connection: {fileID: -7897704624028060786}
  - m_id: 48c759cc-bbdd-447c-90af-58cafcd80cb1
    m_fromNodeId: 4546636f-a125-408d-951b-2b689fb6c696
    m_fromNodeConnectionPointId: e844a70f-f587-4484-a0d2-1f2d51a87da4
    m_toNodeId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
    m_toNodeConnectionPoiontId: ffd3d4a5-3947-4ad5-a754-b48941d1f847
    m_type: ->
    m_connection: {fileID: 4351341555638751592}
  - m_id: 29603e34-88a8-4113-a333-6400456112a5
    m_fromNodeId: 35021e67-d15b-4b9f-8945-a6dd7336e905
    m_fromNodeConnectionPointId: a44910e9-296a-4b11-ab18-5075a7dc0bd8
    m_toNodeId: e10070b5-05ba-44b5-969c-ecc9ac240fb9
    m_toNodeConnectionPoiontId: 7b13baec-d2be-4e3f-9769-bc0510e3efd4
    m_type: ->
    m_connection: {fileID: -7169455427555424457}
  - m_id: 6198da33-d5c1-44ee-98b8-c2f4e4924d1e
    m_fromNodeId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
    m_fromNodeConnectionPointId: 5555e15e-70a0-4342-ae3a-df43c24bab2e
    m_toNodeId: 333bbffc-7d70-4de4-a777-936605bf868a
    m_toNodeConnectionPoiontId: 0c762a3e-a7f7-443d-b7ed-2303d4b99a4a
    m_type: ->
    m_connection: {fileID: -3837637956981627654}
  - m_id: 999e0eab-9191-4177-8a80-5ea9de27343c
    m_fromNodeId: 344bf3a9-c610-44b2-b1d7-c8829b47110f
    m_fromNodeConnectionPointId: 5555e15e-70a0-4342-ae3a-df43c24bab2e
    m_toNodeId: 93d7cdde-b2e4-4a4f-990c-42a1ca7f9bcb
    m_toNodeConnectionPoiontId: 3561853a-1fc3-4df4-9fbe-83bcda27756b
    m_type: ->
    m_connection: {fileID: -6688419507718699940}
  - m_id: 190c928c-9b1e-48f9-8d25-04c59ea0f4cd
    m_fromNodeId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_fromNodeConnectionPointId: 1673624c-0468-4f38-8541-fc2b3a79100e
    m_toNodeId: 93d7cdde-b2e4-4a4f-990c-42a1ca7f9bcb
    m_toNodeConnectionPoiontId: 3561853a-1fc3-4df4-9fbe-83bcda27756b
    m_type: ->
    m_connection: {fileID: 1392371877331619310}
  - m_id: 2f788488-650a-40db-89f9-b73908a395ad
    m_fromNodeId: 05e9c7e2-3a15-4317-b4a1-07f341f7e022
    m_fromNodeConnectionPointId: 1c3ccc29-6a5c-4927-ad19-66abfde9d0d5
    m_toNodeId: cb2e1421-8f6b-4010-89d1-bfd0c6d401dd
    m_toNodeConnectionPoiontId: e68e35e8-854c-4a8e-af3a-e58a204d4dbf
    m_type: ->
    m_connection: {fileID: -8779446517459818715}
  - m_id: 1a11da83-0a97-4f86-9f36-efe0aa43f80d
    m_fromNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_fromNodeConnectionPointId: d618190e-e345-44ce-ac62-ba243c1772b5
    m_toNodeId: 49bd4840-3eac-4e65-9b86-17836c900868
    m_toNodeConnectionPoiontId: 24986637-e11e-4255-9c55-9507ab783d29
    m_type: ->
    m_connection: {fileID: 250014132491807339}
  - m_id: c5fa8c16-54f2-4cef-befe-ae96f5a52ef0
    m_fromNodeId: 49bd4840-3eac-4e65-9b86-17836c900868
    m_fromNodeConnectionPointId: 0801fb85-29d9-4d73-8d4c-323cb71e998a
    m_toNodeId: 7e116382-1078-4742-9cdd-04247dcb4e91
    m_toNodeConnectionPoiontId: 59014767-530d-42a4-99f6-bf93641db02e
    m_type: ->
    m_connection: {fileID: -4663439079635202584}
  - m_id: 756bbfa2-0504-4553-9872-901014eadfbd
    m_fromNodeId: 7e116382-1078-4742-9cdd-04247dcb4e91
    m_fromNodeConnectionPointId: a6e6882b-b9f0-4680-a279-b9933500ec31
    m_toNodeId: 9ec7f05a-459b-4dfe-8f4f-3cdb401b631a
    m_toNodeConnectionPoiontId: a4021d1f-a69e-4ffe-8ae0-84de0642d0a1
    m_type: ->
    m_connection: {fileID: -8501704478256186010}
  - m_id: 4587fce6-4e44-4da6-b054-5fd968d1f058
    m_fromNodeId: 7e116382-1078-4742-9cdd-04247dcb4e91
    m_fromNodeConnectionPointId: a6e6882b-b9f0-4680-a279-b9933500ec31
    m_toNodeId: 04172ca2-33a9-42a6-9924-0b72ed0c16ce
    m_toNodeConnectionPoiontId: 80079707-9338-4ad8-aea9-196a1046d331
    m_type: ->
    m_connection: {fileID: -3216071174005015055}
  - m_id: 0a855f78-a004-4c1b-8779-bb71f25ad9d7
    m_fromNodeId: a1278f7b-9ed7-48db-a5ba-4fb5314d556a
    m_fromNodeConnectionPointId: e7e1d060-4bcc-45f8-b3ed-14f7e776ccbd
    m_toNodeId: 7e116382-1078-4742-9cdd-04247dcb4e91
    m_toNodeConnectionPoiontId: 59014767-530d-42a4-99f6-bf93641db02e
    m_type: ->
    m_connection: {fileID: 5538705135304264008}
  - m_id: 94573921-41d5-496a-8b13-297e3eb50e02
    m_fromNodeId: 5cab666c-f0da-4f80-9cde-bcb10a42c230
    m_fromNodeConnectionPointId: d618190e-e345-44ce-ac62-ba243c1772b5
    m_toNodeId: a1278f7b-9ed7-48db-a5ba-4fb5314d556a
    m_toNodeConnectionPoiontId: c480b5c7-75a9-49a7-a1db-8e222520b917
    m_type: ->
    m_connection: {fileID: 6765113888032685548}
  - m_id: 4e88291a-6c0e-47c2-86ee-84467cc5bae2
    m_fromNodeId: a0a4eede-7794-4f9c-a8f1-91a34a4cb2ab
    m_fromNodeConnectionPointId: 1673624c-0468-4f38-8541-fc2b3a79100e
    m_toNodeId: 333bbffc-7d70-4de4-a777-936605bf868a
    m_toNodeConnectionPoiontId: 0c762a3e-a7f7-443d-b7ed-2303d4b99a4a
    m_type: ->
    m_connection: {fileID: -8334256385118027925}
  m_lastModified: 133598946862858850
  m_graphDescription: "monobehaviour \u4EE3\u7801\u751F\u6210\u5DE5\u5177"
  m_controllerType: AIScripting.AIScriptingController
--- !u!114 &250014132491807339
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &517837402922214444
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: dfc3021d10c22a941a8ae63f84de5a2c, type: 3}
  m_Name: AIScripting.FileTextNode
  m_EditorClassIdentifier: 
  _title: FileTextNode
  file_path:
    _key: file_path
    _default: Assets/AIScriptGraph/Runtime/Nodes/FileTextNode.cs
    _autoCreate: 1
  out_put:
    _key: output_text
    _default: "using System;\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing
      System.Text;\r\nusing System.Xml;\r\n\r\nusing UFrame.NodeGraph;\r\nusing UFrame.NodeGraph.DataModel;\r\n\r\nusing
      UnityEditor.PackageManager.Requests;\r\n\r\nusing UnityEngine;\r\nusing UnityEngine.Networking;\r\nusing
      UnityEngine.U2D;\r\n\r\nnamespace AIScripting\r\n{\r\n    [CustomNode(\"Ollama\",
      0, \"AIScripting\")]\r\n    public class OllamaNode : ScriptNodeBase\r\n   
      {\r\n        /// <summary>\r\n        /// AI\uFFFD\u8DA8\r\n        /// </summary>\r\n       
      [Multiline(3)]\r\n        public string m_SystemSetting = string.Empty;\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\u0123\uFFFD\uFFFD,\u0123\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        public string m_GptModel = \"llama3\";\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0131\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        [Header(\"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0131\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\")]\r\n       
      [SerializeField] protected int m_HistoryKeepCount = 15;\r\n\r\n        [Header(\"\uFFFD\uFFFD\u03E2\uFFFD\uFFFD\uFFFD\uFFFDkey\")]\r\n       
      [SerializeField] protected string eventReceiveKey = \"ollama_receive_message\";\r\n       
      /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\u053B\uFFFD\r\n       
      /// </summary>\r\n        [NonSerialized] public List<SendData> m_DataList
      = new List<SendData>();\r\n\r\n        public Ref<string> input = new Ref<string>(\"input_text\");\r\n       
      public Ref<string> output = new Ref<string>(\"output_text\");\r\n        public
      Ref<string> url = new Ref<string>(\"ollama_url\", \"http://localhost:8081/api/chat\");\r\n\r\n       
      protected override int InCount => int.MaxValue;\r\n\r\n        protected override
      int OutCount => int.MaxValue;\r\n\r\n        public override int Style => 1;\r\n       
      private LitCoroutine _litCoroutine;\r\n\r\n        protected override void
      OnProcess()\r\n        {\r\n            if(m_DataList.Count == 0)\r\n           
      {\r\n                m_DataList.Add(new SendData(\"system\", m_SystemSetting));\r\n           
      }\r\n\r\n            PostMsg(input, (result) =>\r\n            {\r\n               
      output.Value = result;\r\n                DoFinish();\r\n            });\r\n       
      }\r\n\r\n        /// <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u03E2\r\n       
      /// </summary>\r\n        public virtual void PostMsg(string _msg, Action<string>
      _callback)\r\n        {\r\n            //\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\r\n           
      CheckHistory();\r\n\r\n            //\uFFFD\uFFFD\uFFFD\u6DE2\uFFFD\u0375\uFFFD\uFFFD\uFFFD\u03E2\uFFFD\u0431\uFFFD\r\n           
      m_DataList.Add(new SendData(\"user\", _msg));\r\n            _litCoroutine
      = Owner.StartCoroutine(Request(_callback));\r\n        }\r\n\r\n        ///
      <summary>\r\n        /// \uFFFD\uFFFD\uFFFD\xF1\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u05B9\u032B\uFFFD\uFFFD\r\n       
      /// </summary>\r\n        public virtual void CheckHistory()\r\n        {\r\n           
      if (m_DataList.Count > m_HistoryKeepCount)\r\n            {\r\n               
      m_DataList.RemoveAt(0);\r\n            }\r\n        }\r\n\r\n\r\n        [Serializable]\r\n       
      public class SendData\r\n        {\r\n            [SerializeField] public string
      role;\r\n            [SerializeField] public string content;\r\n           
      public SendData() { }\r\n            public SendData(string _role, string _content)\r\n           
      {\r\n                role = _role;\r\n                content = _content;\r\n           
      }\r\n        }\r\n\r\n        //{\"model\":\"llama3\",\"created_at\":\"2024-05-08T09:27:16.4077711Z\",\"message\":{\"role\":\"assistant\",\"content\":\"
      harmony\"},\"done\":false}\r\n        [Serializable]\r\n        public class
      ReceiveData\r\n        {\r\n            public string model;\r\n           
      public string created_at;\r\n            public Message message;\r\n           
      public bool done;\r\n        }\r\n\r\n        public class DownloadHandlerMessageQueue
      : DownloadHandlerScript\r\n        {\r\n            public StringBuilder allText
      = new StringBuilder();\r\n            private Action<ReceiveData> _onReceive;\r\n           
      private StringBuilder _textInProcess = new StringBuilder();\r\n\r\n           
      protected override void ReceiveContentLengthHeader(ulong contentLength)\r\n           
      {\r\n                base.ReceiveContentLengthHeader(contentLength);\r\n               
      Debug.Log(\"ReceiveContentLengthHeader:\" +contentLength);\r\n            }\r\n\r\n           
      protected override bool ReceiveData(byte[] data, int dataLength)\r\n           
      {\r\n                var text = Encoding.UTF8.GetString(data, 0, dataLength);\r\n               
      if(text.Contains('\\n'))\r\n                {\r\n                    var lines
      = text.Trim().Split('\\n');\r\n                    foreach (var line in lines)\r\n                   
      {\r\n                        if (!string.IsNullOrEmpty(line))\r\n                       
      {\r\n                            OnReceiveOne(line.Trim());\r\n                       
      }\r\n                    }\r\n                }\r\n                else\r\n               
      {\r\n                    OnReceiveOne(text.Trim());\r\n                }\r\n               
      //_textInProcess.Append(Encoding.UTF8.GetString(data, 0, dataLength));\r\n               
      //Debug.Log(\"ReceiveData:\" + _textInProcess);\r\n                //int index
      = -1;\r\n                //var startIndex = -1;\r\n                //var endIndex
      = -1;\r\n                //var paired = 0;\r\n                //while (++index
      < _textInProcess.Length)\r\n                //{\r\n                //    var
      charItem = _textInProcess[index];\r\n                //    if (charItem ==
      '{')\r\n                //    {\r\n                //        if(startIndex
      < 0)\r\n                //            startIndex = index;\r\n               
      //        paired++;\r\n                //    }\r\n                //    if
      (charItem == '}')\r\n                //    {\r\n                //        paired--;\r\n               
      //    }\r\n                //    if (paired == 0 && startIndex >= 0)\r\n               
      //    {\r\n                //        endIndex = index;\r\n                //       
      var oneMessage = _textInProcess.ToString(startIndex, endIndex - startIndex
      + 1);\r\n                //        OnReceiveOne(oneMessage);\r\n               
      //        startIndex = -1;\r\n                //    }\r\n                //}\r\n               
      //if (endIndex > 0 && endIndex < _textInProcess.Length - 1)\r\n               
      //{\r\n                //    _textInProcess.Remove(0, endIndex+1);\r\n               
      //}\r\n                return base.ReceiveData(data, dataLength);\r\n           
      }\r\n\r\n            private void OnReceiveOne(string text)\r\n           
      {\r\n                Debug.Log(\"OnReceiveOne:\" + text);\r\n               
      var receiveData = JsonUtility.FromJson<ReceiveData>(text);\r\n               
      allText.Append(receiveData.message.content);\r\n                _onReceive?.Invoke(receiveData);\r\n           
      }\r\n\r\n            internal void RegistReceive(Action<ReceiveData> onReceive)\r\n           
      {\r\n                this._onReceive = onReceive;\r\n            }\r\n       
      }\r\n\r\n        /// <summary>\r\n        /// \uFFFD\u0575\uFFFD\uFFFD\u0638\uFFFD\r\n       
      /// </summary>\r\n        /// <param name=\"data\"></param>\r\n        private
      void OnReceive(ReceiveData data)\r\n        {\r\n            //Debug.Log(data.message.content);\r\n           
      Owner.SendEvent(eventReceiveKey, data);\r\n        }\r\n\r\n        /// <summary>\r\n       
      /// \uFFFD\uFFFD\uFFFD\xFD\u04FF\uFFFD\r\n        /// </summary>\r\n       
      /// <param name=\"_postWord\"></param>\r\n        /// <param name=\"_callback\"></param>\r\n       
      /// <returns></returns>\r\n        public IEnumerator Request(System.Action<string>
      _callback)\r\n        {\r\n            long startTime = System.DateTime.Now.Ticks;\r\n           
      Debug.Log(System.DateTime.Now.Ticks + \",request:\" + url);\r\n           
      UnityWebRequest request = new UnityWebRequest(url, \"POST\");\r\n           
      {\r\n                PostData _postData = new PostData\r\n                {\r\n                   
      model = m_GptModel.ToString(),\r\n                    messages = m_DataList,\r\n                   
      stream = true\r\n                };\r\n\r\n                string _jsonText
      = JsonUtility.ToJson(_postData);\r\n                byte[] data = System.Text.Encoding.UTF8.GetBytes(_jsonText);\r\n               
      request.uploadHandler = new UploadHandlerRaw(data);\r\n                var
      downloadHandler = new DownloadHandlerMessageQueue();\r\n                downloadHandler.RegistReceive(OnReceive);\r\n               
      request.downloadHandler = downloadHandler;\r\n                request.SetRequestHeader(\"Content-Type\",
      \"application/json\");\r\n                //request.SetRequestHeader(\"Authorization\",
      string.Format(\"Bearer {0}\", api_key));\r\n\r\n                var operation
      = request.SendWebRequest();\r\n\r\n                while (!operation.isDone)\r\n               
      {\r\n                    yield return null;\r\n                    _asyncOp.SetProgress(operation.progress);\r\n               
      }\r\n\r\n                if (request.responseCode == 200)\r\n               
      {\r\n                    string _msgBack = downloadHandler.allText.ToString();\r\n                   
      if (!string.IsNullOrEmpty(_msgBack))\r\n                    {\r\n                       
      //\uFFFD\uFFFD\u04FC\uFFFD\xBC\r\n                        m_DataList.Add(new
      SendData(\"assistant\", _msgBack));\r\n                        _callback(_msgBack);\r\n                   
      }\r\n                    else\r\n                    {\r\n                       
      _callback(null);\r\n                    }\r\n                }\r\n               
      else\r\n                {\r\n                    _callback?.Invoke(null);\r\n                   
      Debug.LogError(request.downloadHandler.error);\r\n                }\r\n               
      request.Dispose();\r\n                Debug.Log(System.DateTime.Now.Ticks +
      \",Ollama\uFFFD\uFFFD\u02B1\uFFFD\uFFFD\" + (System.DateTime.Now.Ticks - startTime)
      / 10000000);\r\n            }\r\n        }\r\n\r\n        private void OnRecevieRequest()\r\n       
      {\r\n\r\n        }\r\n\r\n        #region \uFFFD\uFFFD\uFFFD\u0776\uFFFD\uFFFD\uFFFD\r\n\r\n       
      [Serializable]\r\n        public class PostData\r\n        {\r\n           
      public string model;\r\n            public List<SendData> messages;\r\n           
      public bool stream;//\uFFFD\uFFFD\u02BD\r\n        }\r\n\r\n        [Serializable]\r\n       
      public class Message\r\n        {\r\n            public string role;\r\n           
      public string content;\r\n        }\r\n\r\n        #endregion\r\n    }\r\n}"
    _autoCreate: 0
--- !u!114 &1392371877331619310
MonoBehaviour:
  m_ObjectHideFlags: 1
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &2331903906736571686
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 9d7fa2e1d1fd5da4484b367bc93f0390, type: 3}
  m_Name: AIScripting.Ollama.OllamaRequestNode
  m_EditorClassIdentifier: 
  _title: OllamaRequestNode
  eventReceiveKey: ollama_receive_message
  url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 1
  ollama_model:
    _key: ollama_model
    _default: llama3
    _autoCreate: 1
  input:
    _key: send_data_list
    _default: []
    _autoCreate: 1
  output:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &3636328702705836315
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 161163f6654bcdf469dc5f96b9cbed20, type: 3}
  m_Name: AIScripting.DingTalkNode
  m_EditorClassIdentifier: 
  _title: "\u9489\u9489\u901A\u77E5"
  talk_url:
    _key: talk_url
    _default: https://oapi.dingtalk.com/robot/send?access_token=0d5881be6ebc0ce565481930584fd579ae7ccfa076ab6cddd05432f2bb615382
    _autoCreate: 1
  talk_text:
    _key: output_text
    _default: 
    _autoCreate: 1
--- !u!114 &3949558517235700878
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &4335922187416868783
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ba99efd1667934f418310eec5ee307f6, type: 3}
  m_Name: AIScripting.DebugNode
  m_EditorClassIdentifier: 
  _title: "\u8F93\u51FA"
  info:
    _key: output_text
    _default: 
    _autoCreate: 1
  format: 
  logType: 0
--- !u!114 &4351341555638751592
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &5360428487860874658
MonoBehaviour:
  m_ObjectHideFlags: 1
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 1a2985e1c8de6424fb0ed6f6779f3b8e, type: 3}
  m_Name: VariableSetNode
  m_EditorClassIdentifier: 
  _title: VariableSetNode
  executeInEditOnly: 0
  ollama_url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 1
--- !u!114 &5497459493835124635
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &5538705135304264008
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &5985184011527020748
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 0055152a0ec2ff44282d96cc8909e683, type: 3}
  m_Name: AIScripting.BeginNode
  m_EditorClassIdentifier: 
  _title: "\u542F\u52A8"
--- !u!114 &6765113888032685548
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: ->
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 1
--- !u!114 &7716110878025005022
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 1a2985e1c8de6424fb0ed6f6779f3b8e, type: 3}
  m_Name: VariableSetNode
  m_EditorClassIdentifier: 
  _title: "\u53D8\u91CF\u521D\u59CB\u5316"
  executeInEditOnly: 0
  ollama_url:
    _key: ollama_url
    _default: http://localhost:8081/api/chat
    _autoCreate: 1
--- !u!114 &8133720260627461075
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 42ad82161b8987f4a99a30ff6bc1128b, type: 3}
  m_Name: 
  m_EditorClassIdentifier: 
  _title: 
  priority: 0
  disable: 0
--- !u!114 &8946787494674032236
MonoBehaviour:
  m_ObjectHideFlags: 1
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: ba99efd1667934f418310eec5ee307f6, type: 3}
  m_Name: AIScripting.DebugNode
  m_EditorClassIdentifier: 
  _title: DebugNode
  info:
    _key: 
    _default: 
    _autoCreate: 1
  format: 
  logType: 0
